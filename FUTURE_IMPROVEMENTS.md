# 북살롱 향후 개선 사항

이 문서는 현재 구현된 기능의 향후 개선 및 최적화 계획을 정리합니다.

## 🔍 검색 기능 개선

### 1. 검색 정확도 및 성능 향상

#### 현재 상태
- 클라이언트 사이드 필터링 기반 검색
- Firestore 쿼리로 기본적인 키워드 매칭
- 제한된 검색 범위 (최대 80개씩)

#### 개선 방안

**A. searchText 필드 추가 (우선순위: 높음)**
- **목적**: 전체 텍스트 검색 성능 향상
- **구현 내용**:
  - `Post` 타입에 `searchText` 필드 추가 (제목 + 본문 + 작성자명 조합)
  - `Comment` 타입에 `searchText` 필드 추가 (내용 + 작성자명 조합)
  - 게시물/댓글 작성/수정 시 `searchText` 자동 업데이트
- **예상 효과**: 
  - 검색 속도 향상
  - 더 정확한 키워드 매칭
  - Firestore 인덱스 활용 가능

**B. 외부 검색 엔진 연동 (우선순위: 중간)**
- **옵션 1: Algolia**
  - 실시간 검색 인덱싱
  - 타이핑 시 자동완성
  - 고급 필터링 및 정렬
  - 비용: 무료 플랜 (10,000 검색/월)
- **옵션 2: Elasticsearch (자체 호스팅)**
  - 완전한 제어권
  - 복잡한 쿼리 지원
  - 비용: 인프라 비용 필요
- **예상 효과**:
  - 대용량 데이터에서도 빠른 검색
  - 전문 검색 기능 (오타 교정, 동의어 등)
  - 검색 분석 및 인사이트

**C. 검색 결과 개선**
- 검색어 하이라이트
- 검색 결과 요약 (스니펫)
- 관련도 기반 정렬
- 검색 히스토리 저장

---

## 🎨 필터 UI/UX 개선

### 2. 필터 선택 상태 유지 및 고도화

#### 현재 상태
- 인라인 칩 방식 필터 UI 구현 완료
- 기본적인 필터 초기화 기능
- 선택 상태는 컴포넌트 내부 state로 관리

#### 개선 방안

**A. 필터 선택 상태 유지 (우선순위: 중간)**
- **구현 내용**:
  - URL 쿼리 파라미터에 필터 상태 저장 (`?category=문학&tags=베스트셀러,고전&sort=popular`)
  - 페이지 새로고침 시에도 필터 상태 유지
  - 필터 상태 공유 링크 생성 가능
- **예상 효과**:
  - 사용자 경험 향상
  - 북마크 가능한 필터 상태
  - SEO 개선 (검색 엔진 크롤링 가능)

**B. 최근 선택 저장 (우선순위: 낮음)**
- **구현 내용**:
  - 로컬 스토리지에 사용자의 최근 필터 조합 저장
  - "최근 사용한 필터" 빠른 선택 기능
  - 인기 필터 조합 추천
- **예상 효과**:
  - 개인화된 경험
  - 빠른 필터 적용

**C. 필터 시각화 개선**
- 선택된 필터 요약 표시 (예: "문학 • 베스트셀러, 고전 • 인기순")
- 필터 초기화 버튼 개선 (선택된 항목만 표시)
- 필터 애니메이션 및 전환 효과

---

## 📊 성능 최적화

### 3. 데이터 로딩 최적화

#### 현재 상태
- 모든 포럼을 한 번에 로드
- 실시간 리스너로 전체 데이터 동기화

#### 개선 방안

**A. 페이지네이션 구현 (우선순위: 높음)**
- 무한 스크롤 또는 페이지 번호 네비게이션
- Firestore `limit()` 및 `startAfter()` 활용
- 초기 로딩 속도 개선

**B. 가상 스크롤링 (우선순위: 낮음)**
- 대량 데이터 렌더링 최적화
- react-window 또는 react-virtualized 활용
- 메모리 사용량 감소

**C. 데이터 캐싱**
- 검색 결과 캐싱
- 필터 결과 캐싱
- React Query 또는 SWR 도입 검토

---

## 🎯 사용자 경험 개선

### 4. 검색 UX 개선

**A. 검색 자동완성**
- 타이핑 중 실시간 제안
- 인기 검색어 표시
- 최근 검색어 표시

**B. 검색 결과 개선**
- 검색 결과 수 표시
- 검색 결과가 없을 때 추천 검색어
- 검색 결과 필터링 (검색 결과 내에서 추가 필터)

**C. 검색 히스토리**
- 로컬 스토리지에 검색 히스토리 저장
- 검색 히스토리 관리 (삭제, 클리어)
- 히스토리 기반 추천

---

## 🔧 기술적 개선

### 5. 코드 구조 개선

**A. 검색 서비스 확장**
- 검색 결과 타입별 분리 (ForumSearchResult, PostSearchResult, CommentSearchResult)
- 검색 결과 하이라이트 유틸리티 함수
- 검색 결과 정렬 로직 개선

**B. 필터 서비스 확장**
- 필터 상태 관리 유틸리티 (URL 쿼리 파라미터 ↔ 필터 옵션 변환)
- 필터 프리셋 저장/로드 기능
- 필터 조합 유효성 검사

**C. 타입 정의 확장**
- 검색 결과 타입 정의
- 필터 상태 타입 정의
- 검색 히스토리 타입 정의

---

## 📈 분석 및 모니터링

### 6. 검색/필터 사용 분석

**A. 검색 분석**
- 인기 검색어 추적
- 검색 실패율 모니터링
- 검색 결과 클릭률 분석

**B. 필터 분석**
- 가장 많이 사용되는 필터 조합
- 필터 사용 빈도
- 필터별 살롱 탐색 패턴 분석

---

## 🚀 우선순위 요약

### 즉시 구현 (v0.2.1)
1. ✅ searchText 필드 추가 및 자동 업데이트
2. ✅ URL 쿼리 파라미터로 필터 상태 유지
3. ✅ 페이지네이션 구현

### 단기 구현 (v0.3.0)
1. 검색 자동완성
2. 검색 결과 하이라이트
3. 검색 히스토리 저장
4. 검색 섹션별 페이지네이션(살롱/게시글/댓글) 및 “더 보기”

### 중기 구현 (v0.4.0)
1. Algolia 또는 외부 검색 엔진 연동
2. 필터 프리셋 기능
3. 검색/필터 사용 분석

### 장기 구현 (v1.0.0+)
1. AI 기반 검색 추천
2. 개인화된 필터 추천
3. 고급 검색 옵션 (날짜 범위, 평점 범위 등)

---

## 📝 참고 사항

- 모든 개선 사항은 사용자 피드백과 데이터 분석을 기반으로 우선순위 조정 가능
- 성능 개선은 사용자 증가에 따라 점진적으로 적용
- 외부 서비스 연동 시 비용 및 의존성 고려 필요
